{%- if section.settings.fullwidth -%}
  {%- assign container = 'container-full' -%}
{%- elsif section.settings.max_width != blank -%}
  {%- assign container = 'bwp-container' -%}
{%- else -%}
  {%- assign container = 'container' -%}
{%- endif -%}

{%- assign max_width = '' -%}
{%- if section.settings.fullwidth == blank and section.settings.max_width != blank -%}
  {%- capture max_width -%}style="max-width: {{ section.settings.max_width }};"{%- endcapture -%}
{%- endif -%}

{% assign margin  = section.settings.margin | split: "|" %}
{% assign padding = section.settings.padding | split: "|" %}

<style>
#shopify-section-{{ section.id }} .kretoss-section--faqs{
  background-color: {{ section.settings.color_bg }};
  {% if margin[0] != blank %}margin: {{ margin[0] }};{% endif %}
  {% if padding[0] != blank %}padding: {{ padding[0] }};{% endif %}
}
@media (max-width:1200px){
  #shopify-section-{{ section.id }} .kretoss-section--faqs{
    {% if margin[1] != blank %}margin: {{ margin[1] }};{% endif %}
    {% if padding[1] != blank %}padding: {{ padding[1] }};{% endif %}
  }
}
@media (max-width:991px){
  #shopify-section-{{ section.id }} .kretoss-section--faqs{
    {% if margin[2] != blank %}margin: {{ margin[2] }};{% endif %}
    {% if padding[2] != blank %}padding: {{ padding[2] }};{% endif %}
  }
}
@media (max-width:767px){
  #shopify-section-{{ section.id }} .kretoss-section--faqs{
    {% if margin[3] != blank %}margin: {{ margin[3] }};{% endif %}
    {% if padding[3] != blank %}padding: {{ padding[3] }};{% endif %}
  }
}
</style>

<section class="kretoss-section kretoss-section--faqs {{ section.settings.custom_class }}"  style="background-color: {{ section.settings.color_bg }};">
 	<div class="{{ container }}" {{ max_width }}>
		{% if section.settings.heading != blank %}
		<div class="kretoss_heading">
			<h2>
			{{ section.settings.heading }}
			{% if section.settings.heading_highlight != blank %}
				<span>{{ section.settings.heading_highlight }}</span>
			{% endif %}
			</h2>
		</div>
		{% endif %}
		<div class="faqs_page__inner">
			<div class="faq-page2">
				<div id="accordion">
					{%- if section.blocks.size > 0 -%}
						{% for block in section.blocks %}
							<div class="card">
								<div class="card-header">
									<a class="card-link{% unless forloop.first %} collapsed{% endunless %}" data-toggle="collapse" href="#collapse-{{ forloop.index }}">
										{{ block.settings.title }}
									</a>
								</div>
								<div id="collapse-{{ forloop.index }}" class="collapse{% if forloop.first %} show{% endif %}" data-parent="#accordion">
									<div class="card-body">
										{{ block.settings.content }}
									</div>
								</div>
							</div>
						{% endfor %}
					{%- endif -%}
				</div>
			</div>
		</div>
	</div>
</section>

{% schema %}
  {
    "name": "Faqs page",
	"settings": [
		{
			"type": "text",
			"id": "heading",
			"label": "Heading",
			"default": "Frequently Asked"
		},
		{
			"type": "text",
			"id": "heading_highlight",
			"label": "Highlighted Text",
			"default": "Questions"
		},
		{
			"type": "color",
			"id": "color_bg",
			"label": "Background Color",
			"default": "#ffffff"
		},
		{
			"type": "text",
			"id": "max_width",
			"label": "Max Width",
			"info": "Example: 1440px"
		},
		{
			"type": "checkbox",
			"id": "fullwidth",
			"label": "Full Width"
		},
		{
			"type": "text",
			"id": "padding",
			"label": "Padding",
			"info": "Desktop | 1200px | 991px | 767px"
		},
		{
			"type": "text",
			"id": "margin",
			"label": "Margin",
			"info": "Desktop | 1200px | 991px | 767px"
		}
	],
    "blocks": [
      {
        "type": "faq",
        "name": "Faq item",
        "settings": [
          {
            "type": "text",
            "id": "title",
            "label": "Heading"
          },
          {
            "type": "richtext",
            "id": "content",
            "label": "Content"
          }
        ]
      }
    ],
	"presets": [
		{
		"name": "FAQs"
		}
	]
  }
{% endschema %}
